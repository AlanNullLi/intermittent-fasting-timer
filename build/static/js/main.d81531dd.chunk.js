(this["webpackJsonpfasting-timer"]=this["webpackJsonpfasting-timer"]||[]).push([[0],{109:function(e,t,a){},135:function(e,t,a){e.exports=a(219)},140:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){},166:function(e,t,a){},167:function(e,t,a){},169:function(e,t,a){},185:function(e,t,a){},219:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(8),i=a.n(r),l=(a(140),a(54)),o=a(9),c=a(10),m=a(20),u=a(12),d=a(11),p=(a(141),a(142),a(243)),h=(a(100),a(143),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).calculatePercent=function(e,t,a){if(a)return 100;var n=100-(Date.now()-e)/t*100;return n<0?0:n},n.handleMsg=function(e,t,a,s){var r=t,i=n.state.percentGoal;if(e<i&&0!==e&&100!==e&&s>=1e4){for(r=Math.floor(Math.random()*n.state.messages.length);r===t;)r=Math.floor(Math.random()*n.state.messages.length);n.setState({percentGoal:i-10,messageID:r})}},n.state={messages:["You got this!","WILLPOWER!!","What is hunger anyways?"],oldMessageID:0,messageID:0,percentGoal:90},n.handleMsg=n.handleMsg.bind(Object(m.a)(n)),n}return Object(c.a)(a,[{key:"shouldComponentUpdate",value:function(e){return this.state.percentGoal!==e.percentGoal}},{key:"componentDidUpdate",value:function(){0===this.state.percentGoal&&100===this.calculatePercent(this.props.timerStart,this.props.timerLength,this.props.stop)&&this.setState({percentGoal:90})}},{key:"render",value:function(){var e=this.props,t=e.stop,a=e.timerLength,n=e.timerStart,r=this.calculatePercent(n,a,t);return this.handleMsg(r,this.state.messageID,t,a),s.a.createElement("div",{className:"timer",style:{verticalAlign:"center"}},s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},this.state.messages[this.state.messageID]))}}]),a}(n.Component)),f=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).getHoursAndMinutes=function(e,t,a,n){var s=t-(n-e),r=Math.floor(s/6e4)%60,i=Math.floor(s/36e5);a&&(r=Math.floor(t/6e4)%60,i=Math.floor(t/36e5)),r<0&&(r=0),i<0&&(i=0);var l=i+":"+r;return r<10&&(l=i+":0"+r),l},e.getSeconds=function(e,t,a,n){var s=t-(n-e),r=Math.floor(s/1e3)%60;return a&&(r=Math.floor(t/1e3)%60),r<0&&(r=0),r<10?"0"+r:r+""},e.timeDisplay=function(t,a,n,s){return e.getHoursAndMinutes(t,a,n,s)+":"+e.getSeconds(t,a,n,s)},e.calculatePercent=function(e,t,a,n){if(a)return 100;var s=100-(n-e)/t*100;return s<0?0:s},e.displaySecondTimer=function(e,t,a){if(!e){var n=a-t,s=Math.floor(n/6e4)%60,r=Math.floor(n/36e5);s<0&&(s=0),r<0&&(r=0);var i=r+":"+s;return s<10&&(i=r+":0"+s),"Time since last fast - "+i}return""},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.stop,n=t.altStop,r=t.timerLength,i=t.timerStart,l=t.now;return s.a.createElement("div",{className:"timer"},s.a.createElement("div",{className:"timerCircle"},s.a.createElement(p.a,{type:"circle",percent:this.calculatePercent(i,r,a,l),format:function(){return e.timeDisplay(i,r,a,l)},width:200}),s.a.createElement("div",{className:"AltTimer"},this.displaySecondTimer(n,i,l)),s.a.createElement("div",{className:"Message"},s.a.createElement(h,{stop:a,timerLength:r,timerStart:i}))))}}]),a}(n.Component),v=(a(166),function(){return s.a.createElement("div",{className:"resources"},s.a.createElement("h2",null,"Additional Resources"),s.a.createElement("a",{target:"_blank",href:"https://www.healthline.com/nutrition/intermittent-fasting-guide"},"Intermittent Fasting 101 \u2014 The Ultimate Beginner's Guide"),s.a.createElement("div",null," "),s.a.createElement("a",{target:"_blank",href:"https://www.healthline.com/nutrition/6-ways-to-do-intermittent-fasting"},"6 Popular Ways to Do Intermittent Fasting"),s.a.createElement("div",null," "),s.a.createElement("a",{target:"_blank",href:"https://www.health.harvard.edu/blog/intermittent-fasting-surprising-update-2018062914156"},"Harvard Health Blog Article"),s.a.createElement("div",null," "),s.a.createElement("a",{target:"_blank",href:"https://www.webmd.com/diet/news/20191226/intermittent-fasting-diet-could-boost-your-health#1"},"Intermittent Fasting Health Impacts"),s.a.createElement("div",null," "),s.a.createElement("a",{target:"_blank",href:"https://www.medicalnewstoday.com/articles/327398"},"Intermittent Fasting Tips"))}),E=(a(167),a(50)),g=(a(169),a(245)),b=a(246),T=a(241),S=a(240),y=a(119),w=a.n(y),j=a(244),D=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).timeStamp=function(e,t){var a="",n=new Date(e);if(a+=["January","February","March","April","May","June","July","August","September","October","November","December"][n.getMonth()]+" ",a+=n.getDate()+", ",a+=n.getFullYear(),t){a+=" at ";var s=n.getHours(),r="AM";s>12&&s<24?(s-=12,r="PM"):24===s&&(s=12,r="AM"),a+=s+":";var i=n.getMinutes(),l=""+i;i<10&&(l="0"+i),a+=l+":";var o=n.getSeconds(),c=""+o;o<10&&(c="0"+o),a+=c+" "+r}return a},n.handleExpand=function(e){Object(E.isEmpty)(n.state.showFastID)?n.setState({showFastID:[e]}):n.setState({showFastID:[].concat(Object(l.a)(n.state.showFastID),[e])})},n.handleUnexpand=function(e){var t=n.state.showFastID.filter((function(t){return t!==e}));n.setState({showFastID:t})},n.state={showFastID:[]},n}return Object(c.a)(a,[{key:"handleNoteInput",value:function(e){this.props.setState({note:e.target.value})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"historyBody",style:{display:"flex",flexWrap:"wrap"}},this.props.fasts.map((function(t){var a=e.timeStamp(t.startDate,!1),n=e.timeStamp(t.startDate,!0),r=e.timeStamp(t.endDate,!0),i=e.props.parseTime(t.plannedTime),l=i[0],o=i[1],c=i[2],m=e.props.parseTime(t.actualTime),u=m[0],d=m[1],p=m[2];return s.a.createElement("div",{className:"card"},s.a.createElement(g.a,null,s.a.createElement(b.a,{expandIcon:s.a.createElement(w.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},s.a.createElement(S.a,{className:"heading"},s.a.createElement("div",{className:"topLevelInfo"},a," - "," ",t.passed&&s.a.createElement("p",{style:{color:"green",display:"inline"}},"PASS"),!t.passed&&s.a.createElement("p",{style:{color:"red",display:"inline"}},"FAIL")))),s.a.createElement(T.a,null,s.a.createElement(S.a,null,s.a.createElement("div",{className:"moreInfo"},s.a.createElement("div",{className:"expandedView",id:"historyCard"},s.a.createElement("li",null,s.a.createElement("p",{className:"infoLabel"},"Start: "),n),s.a.createElement("li",null,s.a.createElement("p",{className:"infoLabel"},"End: "),r),s.a.createElement("li",null,s.a.createElement("p",{className:"infoLabel"},"Planned Time: "),l," h, ",o," m, ",c," s"),s.a.createElement("li",null,s.a.createElement("p",{className:"infoLabel"},"Actual Time: "),u," h, ",d," m, ",p," s "),s.a.createElement("li",null,s.a.createElement("p",{className:"infoLabel"},"Status: "),t.status),s.a.createElement("li",null,s.a.createElement("p",{className:"infoLabel"},"Note: "),s.a.createElement(j.a.TextArea,{placeholder:"",value:t.note,onChange:function(a){return e.props.editNote(a.target.value,t.id)},autoSize:{maxRows:3}}))))))))})))}}]),a}(n.Component),N=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={note:""},n}return Object(c.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"history"},s.a.createElement("div",{className:"sectionHeader"},s.a.createElement("h2",null,"History")),Object(E.isEmpty)(this.props.fasts)&&s.a.createElement("div",{className:"emptyMessage"},"No fasts yet. Select a template fast or create a custom fast to start!"),!Object(E.isEmpty)(this.props.fasts)&&s.a.createElement(D,{fasts:this.props.fasts,parseTime:this.props.parseTime,editNote:this.props.editNote}))}}]),a}(n.Component),O=(a(185),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={},n}return Object(c.a)(a,[{key:"findLongestFast",value:function(e){var t=0;return e.map((function(e){e.actualTime>t&&(t=e.actualTime)})),t}},{key:"findShortestFast",value:function(e){var t=e[0].actualTime;return e.map((function(e){e.actualTime<t&&(t=e.actualTime)})),t}},{key:"passRate",value:function(e){var t=0,a=0;return e.map((function(e){e.passed?t++:a++})),t/(t+a)}},{key:"render",value:function(){var e=this.props.fasts;if(e.length>0){var t=this.props.parseTime(this.findLongestFast(e)),a=this.props.parseTime(this.findShortestFast(e)),n=100*this.passRate(e),r="You're doing great!";return n<.5&&(r="Try setting shorter goals and work your way up!"),s.a.createElement("div",{className:"records"},s.a.createElement("h2",null,"Records"),s.a.createElement("p",null,"Longest Fast: ",t[0]," h, ",t[1]," m, ",t[2]," s"),s.a.createElement("p",null,"Shortest Fast: ",a[0]," h, ",a[1]," m, ",a[2]," s"),s.a.createElement("b",null,"Pass Rate: ",Math.trunc(n),"%"),s.a.createElement(p.a,{percent:n,showInfo:!1,trailColor:"red",strokeColor:"green",strokeWidth:15}),s.a.createElement("p",null,r))}return s.a.createElement("div",{className:"records"},s.a.createElement("h2",null,"Records"),s.a.createElement("p",null,"No Records yet!"))}}]),a}(n.Component)),M=a(76),I=(a(109),a(247)),k=a(98),F=a(242),C=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleHourInput=function(e){console.log("e.target.value: "+e),n.setState((function(t){return{hours:e,ms:36e5*e}}))},n.handleMinuteInput=function(e){n.setState((function(t){return{minutes:e,ms:6e4*e}}))},n.handleSecondInput=function(e){n.setState((function(t){return{seconds:e,ms:1e3*e}}))},n.calculateTotalTime=function(e){return 1e3*e.seconds+6e4*e.minutes+36e5*e.hours},n.handleSelect=function(e){var t=e.target.value;"16-8"===t?n.setState({custom:!1,hours:16,minutes:0,seconds:0}):"18-6"===t?n.setState({custom:!1,hours:18,minutes:0,seconds:0}):n.setState({custom:!0})},n.state={hours:0,minutes:0,seconds:0,ms:0,custom:!1},n}return Object(c.a)(a,[{key:"render",value:function(){var e,t,a=this;return t=this.state.custom?s.a.createElement("div",{className:"Table"},s.a.createElement("ul",{id:"horizontal-list"},s.a.createElement("li",null,s.a.createElement("label",null,"Hours"),s.a.createElement("br",null),s.a.createElement(I.a,{min:0,max:99,value:this.state.hours,onChange:this.handleHourInput,size:"large"})),s.a.createElement("li",null,s.a.createElement("label",null,"Mins"),s.a.createElement("br",null),s.a.createElement(I.a,{min:0,max:59,value:this.state.minutes,onChange:this.handleMinuteInput,size:"large"})),s.a.createElement("li",null,s.a.createElement("label",null,"Secs"),s.a.createElement("br",null),s.a.createElement(I.a,{min:0,max:59,value:this.state.seconds,onChange:this.handleSecondInput,size:"large"})))):null,s.a.createElement("div",{className:"Controls"},s.a.createElement("div",{className:"buttons"},s.a.createElement("h2",{style:{marginLeft:40}},"Set Timer"),s.a.createElement("div",{className:"StartButton"},s.a.createElement(k.a,Object(M.a)({type:"submit",onClick:function(){return a.props.updatePlannedTime(a.calculateTotalTime(a.state))}},"type","primary"),"Start Timer")),s.a.createElement("div",{className:"GiveUp"},s.a.createElement(k.a,(e={type:"submit",onClick:function(){a.props.newFailed(),a.props.updatePlannedTime(0)}},Object(M.a)(e,"type","primary"),Object(M.a)(e,"danger",!0),e),"I failed :("))),s.a.createElement("div",null),s.a.createElement(F.default.Group,{onChange:this.handleSelect,defaultValue:"16:8",className:"select"},s.a.createElement(F.default.Button,{value:"16-8"},"16:8"),s.a.createElement(F.default.Button,{value:"18-6"},"18:6"),s.a.createElement(F.default.Button,{value:"custom"},"Custom")),t)}}]),a}(s.a.Component),L=a(128),P=a.n(L),A=["Some room for improvement!","You got this next time!","Failure is an inevitable part of success!"],x=["Good job!","Health guru!","Nice!"],G=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).updatePlannedTime=function(e){0===e?n.setState({stop:!0}):n.setState({timerTime:e,timerStart:Date.now(),stop:!1,altStop:!0})},n.newSuccess=function(){var e=0;0!==n.state.fasts.length&&(e=n.state.fasts[n.state.fasts.length-1].id+1);var t={startDate:n.state.timerStart,endDate:n.state.currentTime,actualTime:n.state.timerTime,plannedTime:n.state.timerTime,passed:!0,id:e,status:x[Math.floor(Math.random()*x.length)],note:""},a=[].concat(Object(l.a)(n.state.fasts),[t]);console.log(n.state.timerTime),n.setState((function(e){return{fasts:a,timerStart:e.currentTime,stop:!0,altStop:!1,confetti:!0,recycle:!0,stopTime:Date.now()}}))},n.newFailed=function(){if(!n.state.stop){var e=0;0!==n.state.fasts.length&&(e=n.state.fasts[n.state.fasts.length-1].id+1);var t={startDate:n.state.timerStart,endDate:n.state.currentTime,actualTime:n.state.currentTime-n.state.timerStart,plannedTime:n.state.timerTime,passed:!1,id:e,status:A[Math.floor(Math.random()*A.length)],note:""},a=[].concat(Object(l.a)(n.state.fasts),[t]);console.log(n.state.timerTime),n.setState((function(e){return{fasts:a,timerStart:e.currentTime,stop:!0,altStop:!1}}))}},n.parseTime=function(e){var t=e/1e3,a=t%3600;return[Math.floor(t/3600),Math.floor(a/60),a%60]},n.stopRecycle=function(){n.setState({recycle:!1})},n.calculatePercent=function(e,t,a){if(a)return 100;var n=100-(Date.now()-e)/t*100;return n<0?0:n},n.state={fasts:[{startDate:1589836641396,endDate:158983665e4,actualTime:9e3,plannedTime:9e3,passed:!0,status:"Good job!",id:0,note:""},{startDate:1289836641396,endDate:128983668e4,actualTime:2e4,plannedTime:39e3,passed:!1,status:"Some room for improvement!",id:1,note:""},{startDate:1589836641396,endDate:158983665e4,actualTime:9e3,plannedTime:9e3,passed:!0,status:"Good job!",id:0,note:""},{startDate:1289836641396,endDate:128983668e4,actualTime:2e4,plannedTime:39e3,passed:!1,status:"Some room for improvement!",id:1,note:""},{startDate:1589836641396,endDate:158983665e4,actualTime:9e3,plannedTime:9e3,passed:!0,status:"Good job!",id:0,note:""},{startDate:1289836641396,endDate:128983668e4,actualTime:2e4,plannedTime:39e3,passed:!1,status:"Some room for improvement!",id:1,note:""}],timerTime:648e5,timerStart:0,currentTime:Date.now(),stop:!0,altStop:!0,confetti:!1,recycle:!0,stopTime:0},n.updatePlannedTime=n.updatePlannedTime.bind(Object(m.a)(n)),n.newSuccess=n.newSuccess.bind(Object(m.a)(n)),n.newFailed=n.newFailed.bind(Object(m.a)(n)),n.parseTime=n.parseTime.bind(Object(m.a)(n)),n.editNote=n.editNote.bind(Object(m.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval((function(){return e.setState({currentTime:Date.now()})}),20)}},{key:"componentDidUpdate",value:function(){!this.state.stop&&this.state.timerTime+this.state.timerStart<=this.state.currentTime+10&&this.state.timerTime+this.state.timerStart>=this.state.currentTime-10&&this.newSuccess(),!this.state.altStop&&this.state.currentTime-this.state.stopTime>=3e3&&this.state.recycle&&this.stopRecycle()}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"editNote",value:function(e,t){var a=this.state.fasts;a.map((function(a){a.id===t&&(a.note=e)})),this.setState({fasts:a})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"App",onClick:function(){return e.setState({recycle:!1})}},s.a.createElement("h1",{className:"dummyHeader"},"Intermittent Fasting Tracker!"),s.a.createElement("div",{className:"grid"},this.state.confetti&&s.a.createElement(P.a,{recycle:this.state.recycle}),s.a.createElement(C,{updatePlannedTime:this.updatePlannedTime,newFailed:this.newFailed}),s.a.createElement(f,{stop:this.state.stop,altStop:this.state.altStop,timerLength:this.state.timerTime,timerStart:this.state.timerStart,now:this.state.currentTime,confetti:this.state.confetti}),s.a.createElement(N,{fasts:this.state.fasts,parseTime:this.parseTime,editNote:this.editNote}),s.a.createElement(O,{fasts:this.state.fasts,parseTime:this.parseTime}),s.a.createElement(v,null)))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[135,1,2]]]);
//# sourceMappingURL=main.d81531dd.chunk.js.map